!function(a){var b=a(".batch-update-menu");if(b.length){var c=b.closest("form"),d=c.find("[name=multiAction]");b.on("click",".field",function(b){var e=a(this).data("field");b.preventDefault(),d.val("batchUpdate"),c.append('<input type="hidden" name="field" value="'+e+'">'),c.submit()})}}(presideJQuery),function(a){var b,c,d,e,f=a(".object-listing-table:first"),g=400,h=cfrequest.objectName||"",i=cfrequest.allowSearch,j=cfrequest.datasourceUrl||buildAjaxLink("dataManager.getObjectRecordsForAjaxDataTables",{id:h}),k="undefined"==typeof cfrequest.useMultiActions?!0:cfrequest.useMultiActions,l=cfrequest.isMultilingual||!1,h=cfrequest.objectName||"",m=cfrequest.objectTitle||i18n.translateResource("preside-objects."+h+":title").toLowerCase();b=function(){var b,c=f.find("thead > tr > th"),d=[],e=[];for(k&&d.push({sClass:"center",bSortable:!1,mData:"_checkbox",sWidth:"5em"}),b=k?1:0;b<c.length-1;b++)d.push({mData:a(c.get(b)).data("field")}),"undefined"!=typeof a(c.get(b)).data("defaultSortOrder")&&e.push([b,a(c.get(b)).data("defaultSortOrder")]);l&&d.push({sClass:"center",bSortable:!1,mData:"_translateStatus",sWidth:"12em"}),d.push({sClass:"center",bSortable:!1,mData:"_options",sWidth:"9em"}),f.dataTable({aoColumns:d,aaSorting:e,bServerSide:!0,bProcessing:!0,bStateSave:!0,bFilter:i,bAutoWidth:!1,aLengthMenu:[5,10,25,50,100],sDom:"<'row'<'col-sm-6'l><'col-sm-6'f>r>t<'row'<'col-sm-6'i><'col-sm-6'p>>",sAjaxSource:j,fnRowCallback:function(b){$row=a(b),$row.attr("data-context-container","1"),$row.addClass("clickable")},fnInitComplete:function(b){if(i){var c=a(b.aanFeatures.f[0]),d=c.find("input").first();d.addClass("data-table-search"),d.attr("data-global-key","s"),d.attr("autocomplete","off"),d.attr("placeholder",i18n.translateResource("cms:datamanager.search.placeholder",{data:[m],defaultValue:""})),d.wrap('<span class="input-icon"></span>'),d.after('<i class="fa fa-search data-table-search-icon"></i>'),d.keydown("down",function(a){var b=f.find(k?"tbody :checkbox:first":"tbody tr:first");b.length&&b.focus()})}},oLanguage:{oAria:{sSortAscending:i18n.translateResource("cms:datatables.sortAscending",{}),sSortDescending:i18n.translateResource("cms:datatables.sortDescending",{})},oPaginate:{sFirst:i18n.translateResource("cms:datatables.first",{data:[m],defaultValue:""}),sLast:i18n.translateResource("cms:datatables.last",{data:[m],defaultValue:""}),sNext:i18n.translateResource("cms:datatables.next",{data:[m],defaultValue:""}),sPrevious:i18n.translateResource("cms:datatables.previous",{data:[m],defaultValue:""})},sEmptyTable:i18n.translateResource("cms:datatables.emptyTable",{data:[m],defaultValue:""}),sInfo:i18n.translateResource("cms:datatables.info",{data:[m],defaultValue:""}),sInfoEmpty:i18n.translateResource("cms:datatables.infoEmpty",{data:[m],defaultValue:""}),sInfoFiltered:i18n.translateResource("cms:datatables.infoFiltered",{data:[m],defaultValue:""}),sInfoThousands:i18n.translateResource("cms:datatables.infoThousands",{data:[m],defaultValue:""}),sLengthMenu:i18n.translateResource("cms:datatables.lengthMenu",{data:[m],defaultValue:""}),sLoadingRecords:i18n.translateResource("cms:datatables.loadingRecords",{data:[m],defaultValue:""}),sProcessing:i18n.translateResource("cms:datatables.processing",{data:[m],defaultValue:""}),sZeroRecords:i18n.translateResource("cms:datatables.zeroRecords",{data:[m],defaultValue:""}),sSearch:"",sUrl:"",sInfoPostFix:""}}).fnSetFilteringDelay(g)},c=function(){var b=f.find("th input:checkbox"),c=a("#multi-action-buttons");b.on("click",function(){var c=f.find("tr > td:first-child input:checkbox");c.each(function(){this.checked=b.is(":checked"),a(this).closest("tr").toggleClass("selected")})}),c.data("hidden",!0),f.on("click","th input:checkbox,tbody tr > td:first-child input:checkbox",function(a){var b=f.find("tr > td:first-child input:checkbox:checked").length;e(!b),b&&c.data("hidden")?c.slideDown(250).data("hidden",!1).find("button").prop("disabled",!1):b||c.data("hidden")||c.slideUp(250).data("hidden",!0).find("button").prop("disabled",!0)})},setupMultiActionButtons=function(){var b=a("#multi-action-form"),c=b.find("[name=multiAction]");a("#multi-action-buttons button").click(function(b){c.val(a(this).attr("name"))})},e=function(b){f.find("tbody > tr").each(function(){b?a(this).attr("data-context-container","1"):a(this).removeAttr("data-context-container")})},d=function(){var b=k?"tbody :checkbox":"tbody tr a";f.on("focus",b,function(){a(this).closest("tr").addClass("focus")}),f.on("blur",b,function(){a(this).closest("tr").removeClass("focus")}),f.on("click","tbody :checkbox",function(){var b=a(this);b.closest("tr").toggleClass("selected",b.is(":checked"))}),f.on("keydown","tr.focus","return",function(){a(this).click()})},b(),d(),k&&(c(),setupMultiActionButtons())}(presideJQuery);
//# sourceMappingURL=_object.min.map